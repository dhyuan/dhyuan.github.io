<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  
  <title>STTP的基本使用(3)：把List[Future[Either[Error, T]]]转为Future[(List[Throwable], List[T])] | 浅流</title>
  <meta name="author" content="Dahui">
  
  <meta name="description" content="如果使用 AkkaHttp 作为 STTP 的 backend 来并发地处理 list of url，就会得到类似 List[Future[Response[Either[ResponseError[io.circe.Error], T]]]]，这样的结果。
一般地，我们更期望给上层调用者返回 Fu">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="STTP的基本使用(3)：把List[Future[Either[Error, T]]]转为Future[(List[Throwable], List[T])]"/>
  <meta property="og:site_name" content="浅流"/>

  
    <meta property="og:image" content=""/>
  

  <link rel="shortcut icon" href="/favicon.png">
  
  
<link rel="stylesheet" href="/css/style.css">

  <!--[if lt IE 9]><script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script><![endif]-->
  

<meta name="generator" content="Hexo 5.4.0"></head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">浅流</a></h1>
  <h2><a href="/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/null">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article id="post-List-of-Future-of-Either" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2020-02-27T09:30:59.000Z"><a href="/2020/02/27/List-of-Future-of-Either/">2020-02-27</a></time>
      
      
  
    <h1 class="p-name title" itemprop="headline name">STTP的基本使用(3)：把List[Future[Either[Error, T]]]转为Future[(List[Throwable], List[T])]</h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <p>如果使用 AkkaHttp 作为 STTP 的 backend 来并发地处理 list of url，就会得到类似 List[Future[Response[Either[ResponseError[io.circe.Error], T]]]]，这样的结果。</p>
<p>一般地，我们更期望给上层调用者返回 Future[(List[Exception], List[T])]这样的类型。</p>
<p>下面代码演示了如何把：<br>List[Future[Response[Either[ResponseError[io.circe.Error], NasaData]]]]<br>准换为<br>Future[(List[Throwable], List[NasaData])]。<br>其中 tuple 的第一部分表示 response 中所有的 exception，第二部分表示所有正常数据。</p>
<p>几个技术关键点是：<br>1）Future.sequence 用于把 List[Future] 转为 Future[List]。<br>2）忽略 STTP Response 里除去 body 数据的其它部分，并把 response 转为 Either[Throwable, NasaData]。<br>3）经过步骤 1，2，数据类型已经是 Future[List[Either[Throwable, NasaData]]]。<br>4）List[Either[Throwable, NasaData]] 转为 (List[Throwable], List[NasaData])的思路是:<br>a) 构造一个空的 Tuple (List[Throwable(), List<a href="">NasaData</a>)作为一个累计器。<br>b) 使用 List.folderLeft()遍历元素，根据是 left 还是 right 累加到累计器的_1 或_2。</p>
<p>下面链接的文章演示了两种转换方式，一种是 Scala 原生手写，一种是使用 CAT。 <a target="_blank" rel="noopener" href="https://pbassiner.github.io/blog/composing_future,_list_and_either.html%E3%80%82">https://pbassiner.github.io/blog/composing_future,_list_and_either.html。</a><br>但是，其中语句 case Left(err) =&gt; acc.left.map(_ =&gt; err) 的逻辑似乎与期望不符。如果 list of either 中有 Left，并不能工作。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> erA: <span class="type">Either</span>[<span class="type">String</span>, <span class="type">Int</span>] = <span class="type">Right</span>(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">val</span> erB: <span class="type">Either</span>[<span class="type">String</span>, <span class="type">Int</span>] = <span class="type">Right</span>(<span class="number">2</span>)</span><br><span class="line"><span class="keyword">val</span> erC: <span class="type">Either</span>[<span class="type">String</span>, <span class="type">Int</span>] = <span class="type">Right</span>(<span class="number">3</span>)</span><br><span class="line"><span class="keyword">val</span> elA: <span class="type">Either</span>[<span class="type">String</span>, <span class="type">Int</span>] = <span class="type">Left</span>(<span class="string">&quot;error1&quot;</span>)</span><br><span class="line"><span class="keyword">val</span> elB: <span class="type">Either</span>[<span class="type">String</span>, <span class="type">Int</span>] = <span class="type">Left</span>(<span class="string">&quot;error2&quot;</span>)</span><br><span class="line"><span class="keyword">val</span> listOfEither = <span class="type">List</span>(erA, elA, erB, erC, elB)</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">val</span> eitherOfList: <span class="type">Either</span>[<span class="type">String</span>, <span class="type">List</span>[<span class="type">Int</span>]] = listOfEither.foldLeft(<span class="type">Right</span>[<span class="type">String</span>, <span class="type">List</span>[<span class="type">Int</span>]](<span class="type">List</span>()).asInstanceOf[<span class="type">Either</span>[<span class="type">String</span>, <span class="type">List</span>[<span class="type">Int</span>]]])((acc, elem) =&gt; &#123;</span><br><span class="line">  elem <span class="keyword">match</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="type">Right</span>(v) =&gt; acc.map(l =&gt; l :+ v)</span><br><span class="line">    <span class="keyword">case</span> <span class="type">Left</span>(e) =&gt; acc.left.map(_ + e)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">println(<span class="string">s&quot;eitherOfList: <span class="subst">$eitherOfList</span>&quot;</span>)</span><br></pre></td></tr></table></figure>

<pre><code>输出为：eitherOfList: Right(List(1, 2, 3))
</code></pre>
<p>下面的代码演示了并发发出100个RestAPi请求获取数据的处理代码，结果保存在Tuple里，分别是所有失败和成功的数据。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io.circe.generic.auto._</span><br><span class="line"><span class="keyword">import</span> sttp.client._</span><br><span class="line"><span class="keyword">import</span> sttp.client.akkahttp.<span class="type">AkkaHttpBackend</span></span><br><span class="line"><span class="keyword">import</span> sttp.client.circe._</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.concurrent.<span class="type">Future</span></span><br><span class="line"><span class="keyword">import</span> scala.concurrent.duration._</span><br><span class="line"><span class="keyword">import</span> scala.concurrent.<span class="type">Await</span></span><br><span class="line"><span class="keyword">import</span> scala.concurrent.<span class="type">ExecutionContext</span>.<span class="type">Implicits</span>.global</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> <span class="type">NASA_API_KEY</span> = <span class="string">&quot;XXXXXXXXXXXXXXX&quot;</span></span><br><span class="line"><span class="keyword">val</span> baseUrl = <span class="string">s&quot;https://api.nasa.gov/neo/rest/v1/neo/browse?api_key=<span class="subst">$&#123;NASA_API_KEY&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> pageSize = <span class="number">10</span></span><br><span class="line"><span class="keyword">var</span> pageNumb = <span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">Links</span>(<span class="params">self: <span class="type">String</span>, next: <span class="type">String</span></span>)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">Page</span>(<span class="params">number: <span class="type">Int</span>, size: <span class="type">Int</span>, total_elements: <span class="type">Int</span>, total_pages: <span class="type">Int</span></span>)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">NearEarthObject</span>(<span class="params">absolute_magnitude_h: <span class="type">Double</span>, designation: <span class="type">String</span></span>)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">NasaData</span>(<span class="params">links: <span class="type">Links</span>, page: <span class="type">Page</span>, near_earth_objects: <span class="type">List</span>[<span class="type">NearEarthObject</span>]</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">implicit</span> <span class="keyword">val</span> sttpBackend = <span class="type">AkkaHttpBackend</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// Note: List[Future[Response[Either[ResponseError[io.circe.Error], NasaData]]]] ---&gt; Future[Either[String, List[NasaData]]]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> listOfFutureResult: <span class="type">List</span>[<span class="type">Future</span>[<span class="type">Response</span>[<span class="type">Either</span>[<span class="type">ResponseError</span>[io.circe.<span class="type">Error</span>], <span class="type">NasaData</span>]]]] =</span><br><span class="line">  (<span class="number">0</span> until pageNumb).toList.map(pageIndex =&gt; &#123;</span><br><span class="line">    <span class="keyword">val</span> pageUrl = <span class="string">s&quot;http://www.neowsapp.com/rest/v1/neo/browse?page=<span class="subst">$pageIndex</span>&amp;size=<span class="subst">$pageSize</span>&amp;api_key=<span class="subst">$&#123;NASA_API_KEY&#125;</span>&quot;</span></span><br><span class="line">    basicRequest.get(<span class="string">uri&quot;<span class="subst">$pageUrl</span>&quot;</span>)</span><br><span class="line">      .response(asJson[<span class="type">NasaData</span>])</span><br><span class="line">      .send()</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Note: Future[List] --&gt; List[Future]</span></span><br><span class="line"><span class="keyword">val</span> futureOfList: <span class="type">Future</span>[<span class="type">List</span>[<span class="type">Response</span>[<span class="type">Either</span>[<span class="type">ResponseError</span>[io.circe.<span class="type">Error</span>], <span class="type">NasaData</span>]]]] = <span class="type">Future</span>.sequence(listOfFutureResult)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Note: 把Response[Either[ResponseError[io.circe.Error], NasaData]] 转为了 Either[Throwable, NasaData]</span></span><br><span class="line"><span class="keyword">val</span> respOfEither2Either: <span class="type">Response</span>[<span class="type">Either</span>[<span class="type">ResponseError</span>[io.circe.<span class="type">Error</span>], <span class="type">NasaData</span>]] =&gt; <span class="type">Either</span>[<span class="type">Throwable</span>, <span class="type">NasaData</span>] = resp =&gt; &#123;</span><br><span class="line">  println(<span class="string">s&quot;resp==&gt;  code:<span class="subst">$&#123;resp.code.code&#125;</span>  <span class="subst">$&#123;resp.statusText&#125;</span>&quot;</span>)</span><br><span class="line">  <span class="keyword">val</span> newEither: <span class="type">Either</span>[<span class="type">Throwable</span>, <span class="type">NasaData</span>] = resp.body <span class="keyword">match</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="type">Left</span>(respErr) =&gt; <span class="type">Left</span>(respErr.getCause)</span><br><span class="line">    <span class="keyword">case</span> <span class="type">Right</span>(nasaData) =&gt; <span class="type">Right</span>(nasaData)</span><br><span class="line">  &#125;</span><br><span class="line">  newEither</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> futureOfListOfEither: <span class="type">Future</span>[<span class="type">List</span>[<span class="type">Either</span>[<span class="type">Throwable</span>, <span class="type">NasaData</span>]]] = futureOfList.map(listOfResp =&gt; &#123;</span><br><span class="line">  listOfResp.map(respOfEither2Either)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> listOfEither2TupleOfList: <span class="type">List</span>[<span class="type">Either</span>[<span class="type">Throwable</span>, <span class="type">NasaData</span>]] =&gt; (<span class="type">List</span>[<span class="type">Throwable</span>], <span class="type">List</span>[<span class="type">NasaData</span>]) = listE =&gt; &#123;</span><br><span class="line">  listE.foldLeft(<span class="type">List</span>[<span class="type">Throwable</span>](), <span class="type">List</span>[<span class="type">NasaData</span>]())((acc, eData) =&gt; &#123;</span><br><span class="line">    eData <span class="keyword">match</span> &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="type">Right</span>(nasaData) =&gt; (acc._1, acc._2 :+ nasaData)</span><br><span class="line">      <span class="keyword">case</span> <span class="type">Left</span>(t) =&gt; (acc._1 :+ t, acc._2)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> futureOfEitherOfList = futureOfListOfEither map listOfEither2TupleOfList</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> result = <span class="type">Await</span>.result(futureOfEitherOfList, <span class="number">1.</span>minute)</span><br><span class="line">println(<span class="string">s&quot;Exceptions in Response: <span class="subst">$result</span>._1&quot;</span>)</span><br><span class="line">println(<span class="string">s&quot;Data in Response: <span class="subst">$result</span>._2&quot;</span>)</span><br><span class="line"> </span><br></pre></td></tr></table></figure>


<p>另，Akka HTTP默认主机连接持是32个，所以需要修改applicaiton.confg配置以支持更多连接数。<br>    akka.http.host-connection-pool.max-open-requests = 128</p>

      
    </div>
    <footer>
      
        
        
  
  <div class="tags">
    <a href="/tags/%E7%AC%94%E8%AE%B0/">笔记</a>, <a href="/tags/Scala/">Scala</a>
  </div>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


<section id="comment">
  <h1 class="title">留言</h1>

  
      <div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>

<div class="fb-comments" data-href="https://dhyuan.github.io/2020/02/27/List-of-Future-of-Either/index.html" data-num-posts="5" data-width="840" data-colorscheme="light"></div>
      
  
</section>

</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索">
    <input type="hidden" name="as_sitesearch" value="dhyuan.github.io">
  </form>
</div>


  

  
<div class="widget tag">
  <h3 class="title">标签</h3>
  <ul class="entry">
  
    <li><a href="/tags/AWS/">AWS</a><small>2</small></li>
  
    <li><a href="/tags/CAS/">CAS</a><small>5</small></li>
  
    <li><a href="/tags/Concurrency/">Concurrency</a><small>6</small></li>
  
    <li><a href="/tags/DevOps/">DevOps</a><small>31</small></li>
  
    <li><a href="/tags/FP/">FP</a><small>2</small></li>
  
    <li><a href="/tags/Git/">Git</a><small>1</small></li>
  
    <li><a href="/tags/Ingerss/">Ingerss</a><small>1</small></li>
  
    <li><a href="/tags/Java/">Java</a><small>10</small></li>
  
    <li><a href="/tags/Kubernetes/">Kubernetes</a><small>3</small></li>
  
    <li><a href="/tags/Maven/">Maven</a><small>2</small></li>
  
    <li><a href="/tags/MicroService/">MicroService</a><small>3</small></li>
  
    <li><a href="/tags/MongoDB/">MongoDB</a><small>6</small></li>
  
    <li><a href="/tags/Nginx/">Nginx</a><small>2</small></li>
  
    <li><a href="/tags/Reactive/">Reactive</a><small>8</small></li>
  
    <li><a href="/tags/SAGA/">SAGA</a><small>1</small></li>
  
    <li><a href="/tags/Scala/">Scala</a><small>7</small></li>
  
    <li><a href="/tags/Security/">Security</a><small>12</small></li>
  
    <li><a href="/tags/Spring/">Spring</a><small>14</small></li>
  
    <li><a href="/tags/android/">android</a><small>1</small></li>
  
    <li><a href="/tags/network/">network</a><small>2</small></li>
  
    <li><a href="/tags/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/">性能测试</a><small>1</small></li>
  
    <li><a href="/tags/%E7%AC%94%E8%AE%B0/">笔记</a><small>13</small></li>
  
    <li><a href="/tags/%E7%BD%91%E4%B8%8A%E5%A5%BD%E6%96%87/">网上好文</a><small>1</small></li>
  
  </ul>
</div>


  
  <div class="widget widget-archives">
    <h3 class="title">归档</h3>
    <div class="entry">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/01/">一月 2025</a><span class="archive-list-count">16</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/06/">六月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">二月 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">十一月 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">九月 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">八月 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">十月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">七月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">五月 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">二月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>


</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2025 Dahui
  
</div>
<div class="clearfix"></div></footer>
  
<script src="/js/jquery-3.4.1.min.js"></script>


<script src="/js/jquery.imagesloaded.min.js"></script>


<script src="/js/gallery.js"></script>






<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script src="/fancybox/jquery.fancybox.pack.js"></script>

<script>
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>
